<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Блог Ильи Барышева</title><link>http://codecoffee.ru/</link><description>О веб-разработке и не только…</description><atom:link href="http://codecoffee.ru/rss.xml" rel="self"></atom:link><lastBuildDate>Mon, 25 Feb 2013 00:00:00 +0400</lastBuildDate><item><title>Coveralls for python</title><link>http://codecoffee.ru/2013/02/coveralls/</link><description>&lt;p&gt;There is one awesome service to show off the test coverage of your project: &lt;a href="https://coveralls.io/"&gt;Coveralls&lt;/a&gt;.
Besides it's cool name, it has a lot of advantages to offer for opensource developer:
visualisation of repo coverage, history of your stats, individual file coverage reports.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://coveralls.io/"&gt;
&lt;img src="/static/images/coveralls.png" width="660" height="290" alt="Coveralls promo"/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The killer feature is definitely Github and &lt;a href="https://travis-ci.org/"&gt;Travis CI&lt;/a&gt; integration. Simply log in with
your github account, choose repos to track coverage, add 2 lines to your Travis CI
config and you're all set.&lt;/p&gt;
&lt;p&gt;It even checks coverage for your &lt;a href="https://github.com/coagulant/django-twitter-tag/pull/23"&gt;pull requests&lt;/a&gt;
and provides nice badges to embed in your docs:
&lt;a href="https://coveralls.io/r/coagulant/coveralls-python"&gt;&lt;img alt="Coverage Status" src="https://coveralls.io/repos/coagulant/coveralls-python/badge.png?branch=master" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Show me the code&lt;/h2&gt;
&lt;p&gt;Ruby/rails are officially supported, everyobdy else can use json API.
So I've written a very simple &lt;a href="https://github.com/coagulant/coveralls-python"&gt;python library&lt;/a&gt; to use coveralls in my projects:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;coveralls&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After running tests with coverage, simply run &lt;code&gt;coveralls&lt;/code&gt; console command
and that's it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;coverage&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;your_test_suite_runner&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;span class="n"&gt;coveralls&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you're not using Travis CI you need a bit of extra configuration, explained in &lt;a href="https://github.com/coagulant/coveralls-python#configuration"&gt;the docs&lt;/a&gt;.
I've been using coveralls myself for some time and it's great.&lt;/p&gt;
&lt;p&gt;It makes custom report for data generated by coverage.py package and sends it to json API
of coveralls.io service. All python files in your coverage analysis are posted to this service
along with coverage stats, so please make sure you're not ruining your own security!
For private projects there is Coveralls Pro.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Did I mention that service is completely free for opensource repos and offers plans for private ones?&lt;/p&gt;
&lt;p&gt;I'm not an author of the service, I simply like the idea of sharing coverage
stats for OSS projects and the implementation of coveralls.io by &lt;a href="http://lemurheavy.com"&gt;LemurHeavy&lt;/a&gt;.
Thank you, guys!&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Mon, 25 Feb 2013 00:00:00 +0400</pubDate><guid>tag:codecoffee.ru,2013-02-25:2013/02/coveralls/</guid><category>python</category><category>testing</category></item><item><title>Про то как я Moscowdjango на Python 3 портировал</title><link>http://codecoffee.ru/2013/02/python3-moscowdjango/</link><description>&lt;p&gt;В январе удалось вновь выступить на Moscow Django. &lt;a href="http://moscowdjango.ru/meetup/9/whats-new-in-django15/"&gt;Доклад про новинки пока ещё не вышедшего Django 1.5&lt;/a&gt;
оказался намного динамичней и бодрей прошлогоднего дебюта &lt;a href="http://moscowdjango.ru/meetup/2/whats-new-in-django-14/"&gt;про 1.4&lt;/a&gt;. По ссылкам можно в этом
убедиться воочию.&lt;/p&gt;
&lt;p&gt;Как ни странно, в этот раз важных фич совсем немного, а ведь в прошлый раз их хватило,
чтобы написать целый &lt;a href="http://blog.futurecolors.ru/2012/04/django-14.html"&gt;цикл из 8 статей в блоге Future Colors&lt;/a&gt;. В сухом остатке настраиваемая
модель пользователя и небольшие улучшения в ORM и шаблонах. Про всё это уже многие написали. Даже &lt;a href="http://blog.e0ne.info/post/Django-15-Release-Candidate.aspx"&gt;про
минорные&lt;/a&gt;, но от того не менее приятные новинки. Но самое главное, это, конечно же, поддежка python 3.2+.&lt;/p&gt;
&lt;h3&gt;Всё плохо?&lt;/h3&gt;
&lt;p&gt;После &lt;a href="http://moscowdjango.ru/meetup/8/whats-new-python3/"&gt;доклада Павла Зиновкина&lt;/a&gt; про то, как они пробовали перевести на python 3 один
из своих проектов, у меня сложилось какое-то пессимистическое впечателние.
Вывод был примерно таков: «Ситуация с библиотеками не позволяет
использовать Python 3», а иными словами, пока не готово для продакшена.
Не удалось завести django-celery под py3k, а стало быть запускать даже в стейджинг такое нельзя.
Но ведь это не повод отчаиваться :) Возникло желание продемонстрировать, что некоторые проекты уже сейчас
можно перевести на трёшку. Кандидата не пришлось долго искать: &lt;a href="http://moscowdjango.ru/"&gt;сайт Moscow Django&lt;/a&gt;
для этого отлично подошёл.&lt;/p&gt;
&lt;h3&gt;Портируем на счёт три&lt;/h3&gt;
&lt;p&gt;Если кода немного, то портирование на python 3 обычно более-менее тривиально. Особенно помогает
понимание того, что изменилось. А более всего осознание &lt;a href="http://nedbatchelder.com/text/unipain.html"&gt;разницы между юникодом и строками&lt;/a&gt;.
В своём выступлении я рекомендовал книжку &lt;a href="http://python3porting.com/"&gt;Porting to Python 3&lt;/a&gt; и библиотку &lt;a href="http://pythonhosted.org/six/"&gt;six&lt;/a&gt;, которая
де-факто стала стандартом разработки софта сразу под 2.x и 3.x. Этот подход избрали авторы множества
известных мне библиотек, и не напрасно. Я считаю, что это намного проще в поддержке, чем 2to3
и уж точно удобней, чем писать свои слои абстракции для совместимости.&lt;/p&gt;
&lt;p&gt;Для начала надо было решить, как завести свеженький питон на Хероку, где хостится MoscowDjango.
К счастью, до того, как я погрузился в особенности устройства местных билдпаков,
Kenneth Reitz анонсировал официальную поддержку всех актуальных версий питона на Хероку.
Оставалось адаптировать код сайта и все зависимости.&lt;/p&gt;
&lt;p&gt;Поскольку код сайта достаточно компактен, большую часть времени заняли чужие библиотеки.
Из &lt;a href="https://github.com/futurecolors/moscowdjango/issues/64"&gt;21 пакета&lt;/a&gt; лишь 7 уже могли запускаться под py3k, ещё для 6 нашлись рабочие форки, а ещё 3 я спортировал сам.
Стоит отметить, что пакеты без тестов или хорошего покрытия портировать на python 3 крайне тяжело,
а иногда даже невозможно. Это ещё один достаточно весомый довод в пользу написания тестов для
вашего проекта.&lt;/p&gt;
&lt;h3&gt;Ложка дёгтя&lt;/h3&gt;
&lt;p&gt;Больше всего проблем доставила &lt;a href="https://crate.io/packages/django-storages/"&gt;django-storages&lt;/a&gt;, с помощью которой осуществляется заливка
медиа-файлов на амазоновский s3. Выкинуть её полностью или заменить аналогом не получилось,
а по-честному спортировать в короткий срок нереально из-за зависимости на внушительный &lt;a href="https://crate.io/packages/boto/"&gt;boto&lt;/a&gt;,
до сих пор возглавляющий &lt;a href="http://python3wos.appspot.com/"&gt;python 3 wall of shame&lt;/a&gt;. Пришлось вытащить на свет
deprecated версию python API от амазона бородатого года под python 2.4 и кое-как приспособить для
своих нужд.&lt;/p&gt;
&lt;p&gt;К сожалению, перевести все-все зависимости на новую версию языка не удалось из-за временных
ограничений (хотел успеть к докладу). За бортом прогресса плещутся любимые django-debug-toolbar и
django-admin-sso, ожидая своей очереди. Но и без них сайт прекрасно работает, а никто и не заметил,
что они были.&lt;/p&gt;
&lt;h3&gt;Выводы&lt;/h3&gt;
&lt;p&gt;Итого, меньше, чем за месяц (в свободное время) получилось запустить в продакшене небольшой &lt;a href="http://moscowdjango.ru/"&gt;сайт на
Django 1.5c1&lt;/a&gt;. Конечно, это никакое не достижение, просто иллюстрация тенденции: того, что авторы
библиотек всё больше с каждым годом смотрят в сторону третей версии языка. И скоро наступит момент,
когда вопрос, стартовать ли новый проект на python 3 перестанет быть лишь уделом энтузиастов.&lt;/p&gt;
&lt;p&gt;Уже сейчас каждый, кто нашёл для себя что-то интересное в python 3, может начать
помогать сообществу портировать библиотеки. Вот такой вывод я хотел бы видеть в докладе.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Tue, 12 Feb 2013 00:00:00 +0400</pubDate><guid>tag:codecoffee.ru,2013-02-12:2013/02/python3-moscowdjango/</guid><category>python</category><category>конференции</category><category>moscowdjango</category></item><item><title>Про презентации</title><link>http://codecoffee.ru/2012/10/pro-prezentatsii/</link><description>&lt;p&gt;На &lt;a href="http://moscowdjango.ru/meetups/7/"&gt;Moscow Django Meetup 6&lt;/a&gt; рассказал
про свои взгляды на тестирование и поделился несколькими нехитрыми советами и инструментами.
Всем неравнодушным к совершенствованию качества кода рекомендую.
А в особенности пишущим на python и Django, но надеюсь и остальным понравится.&lt;/p&gt;
&lt;p&gt;Пока что доступны слайды, но вскоре и видео подоспеет:&lt;/p&gt;
&lt;div style="height:500px; margin-bottom: 20px;"&gt;
&lt;script async class="speakerdeck-embed" data-id="5087e55307a206000204d609" data-ratio="1.7777777777777777"
 src="http://speakerdeck.com/assets/embed.js"&gt;&lt;/script&gt;
&lt;/div&gt;

&lt;h3&gt;Опыт докладчика&lt;/h3&gt;
&lt;p&gt;За этот год я выступил уже 3 раза на Moscow Django: в феврале рассказал про
&lt;a href="https://speakerdeck.com/coagulant/chto-novogho-v-django-1-dot-4"&gt;новинки Django 1.4&lt;/a&gt;, в июле про &lt;a href="https://speakerdeck.com/coagulant/django-i-continuous-integration"&gt;Continuous Integration&lt;/a&gt;.
Мотивация делать доклады такая же что и писать в блог: выкристаллизовать свои
собственные знания в первую очередь. Чтобы объяснить что-то другим людям,
надо самому это прекрасно понимать и разбираться. Советую попробовать, вам тоже
может понравиться. Ну и приятные побочные эффекты никто не отменял.&lt;/p&gt;
&lt;h3&gt;Советы самому себе полгода назад&lt;/h3&gt;
&lt;p&gt;Размер шрифта как можно больше, переборщить не получится.&lt;br/&gt;
Не нужно много текста, только самая суть: остальное можно рассказать.&lt;br/&gt;
Списки должны появляться по пунктам, а не сразу.&lt;br/&gt;
А лучше всего сделать по слайду на каждый пункт.&lt;br/&gt;
Слайдов не может быть слишком много, нельзя экономить на слайдах.&lt;br/&gt;
Научись пользоваться кликером, а лучше ещё и лазрной указкой, если на слайде код.&lt;br/&gt;
Раскрашивай код на слайдах, если кода много. Но лучше меньше кода!&lt;br/&gt;
Код на слайдах должен быть моноширинным, легочитаемым шрифтом.&lt;br/&gt;
Присылай слайды организаторам заранее, лучше ещё и бэкап в формате PDF.&lt;br/&gt;
Пиши комментарии докладчика и пользуйся ими во время рассказа.&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;Не буду утверждать, что все советы я сам смог выполнить, но я на пути к этому.&lt;/p&gt;
&lt;p&gt;P.S. Совет тем, кто не знает чем подсвечивать код в презентациях: я пользуюсь хорошей
библиотекой &lt;a href="http://softwaremaniacs.org/soft/highlight/"&gt;highligh.js&lt;/a&gt; и копирую html код прямо на слайд Keynote.
Для этого я сделал небольшой &lt;a href="http://jsfiddle.net/gzUey/"&gt;плейграунд на jsfiddle&lt;/a&gt;. Может быть и вам он пригодится.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Thu, 25 Oct 2012 22:30:00 +0400</pubDate><guid>tag:codecoffee.ru,2012-10-25:2012/10/pro-prezentatsii/</guid><category>python</category><category>конференции</category><category>moscowdjango</category></item><item><title>Опенсорс на английском</title><link>http://codecoffee.ru/2012/09/opensors-na-angliiskom/</link><description>&lt;p&gt;Проекты с открытым исходным кодом должны быть на английском.
Без исключений: документация, комментарии в коде, багтрекер в опенсорс-мире should be in English.
При желании можно делать переводы доков на разные языки, но обычно их качество и актуальность оставляют желать лучшего.
Основной мотив не делать проект исключительно на русском/немецком/испанском и т.п. это
возможность привлечения как можно более широкой аудитории. Это касаестя как userbase девелоперов
(им важна англоязычная документация и поддержка), так и коллег-контрибуторов (им также
пригодятся понятные без словаря комментарии в коде и тексты коммитов).&lt;/p&gt;
&lt;p&gt;Не замыкайтесь на русскоязычную аудиторию, она не составляет и десятой доли пользователей интернета (гитхаба).
Даже если ваш проект пока что целиком ориентирован на локальный сегмент, вам
вовсе не обязательно заранее ограничивать себя, ведь подавляющее большинство разработчиков знают английский язык
и умеют на нём хотя бы читать.&lt;/p&gt;
&lt;p&gt;На написание поста сподвиг вот этот &lt;a href="https://twitter.com/banzalik/status/251607430876758017"&gt;твит&lt;/a&gt;,
и некоторые обсуждения в нашей команде. Поначалу делать &lt;a href="https://github.com/futurecolors/moscowdjango"&gt;проект для русскоязычной аудитории&lt;/a&gt;
с сорцами и коммитами на английском может показаться оверкиллом, но со временем это обязательно
&lt;a href="https://github.com/futurecolors/moscowdjango/issues/13"&gt;принесёт свою пользу&lt;/a&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Sun, 30 Sep 2012 21:30:00 +0400</pubDate><guid>tag:codecoffee.ru,2012-09-30:2012/09/opensors-na-angliiskom/</guid><category>opensource</category></item><item><title>Новый движок блога</title><link>http://codecoffee.ru/2012/09/novyi-dvizhok-bloga/</link><description>&lt;p&gt;Пришла пора отказаться от вордпресса в пользу легко настраиваемого &lt;a href="http://getpelican.com"&gt;Pelican&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Вы наверняка слышали про "статические" блоги, которые рендерятся из Markdown-разметки,
самый популярный, конечно же, &lt;a href="http://octopress.org"&gt;Octopress&lt;/a&gt; на основе &lt;a href="http://jekyllrb.com/"&gt;Jekyll&lt;/a&gt;. Отличная платформа,
с прекрасной стандартной темой, но, к сожалению, на Ruby. Решил не полениться и перенёс
свой бложек на похожий движок, но на питоне. Так привычней и проще настраивать под себя,
да и геморроя с rvm нет. Зато налицо полное отсутсвтие хоть сколько-нибудь приятных
стандартных шаблонов, все они ужасны чуть менее чем полностью.&lt;/p&gt;
&lt;p&gt;Писать статьи прямо .md или .rst привычно и удобно для программистов и прочих гиков,
авось и новые статьи начнут появляться тут.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Thu, 13 Sep 2012 21:30:00 +0400</pubDate><guid>tag:codecoffee.ru,2012-09-13:2012/09/novyi-dvizhok-bloga/</guid><category>python</category></item><item><title>Твиты Future Colors, 3 неделя сентября</title><link>http://codecoffee.ru/2011/09/tvity-future-colors-3-nedelia-sentiabria/</link><description>&lt;p&gt;Мы ежедневно делимся в твитере &lt;a href="http://twitter.com/#!/futurecolors"&gt;@futurecolors&lt;/a&gt; полезными ссылками,
новостями вебразработки, еженедельно — фотками с работы. Раз в
неделю-две я буду собирать всё это в один пост, чтобы это легко было
найти потом. Хронология специально нарушена, это не так важно. Кое-где
мои комментарии к твитам.&lt;/p&gt;
&lt;h3&gt;Django&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://twitter.com/#!/isagalaev"&gt;Иван Сагалаев&lt;/a&gt; в своём блоге &lt;a href="http://softwaremaniacs.org/blog/2011/09/08/djangocon-2011/"&gt;делится впечатлениями&lt;/a&gt; о прошедешем
DjangoCon US.&lt;/p&gt;
&lt;p&gt;Опубликованы &lt;a href="http://blip.tv/djangocon"&gt;видеозаписи с DjangoCon US 2011&lt;/a&gt; Всем смотреть!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Целых 40 записей, 16 гигабайт видео, часов ещё больше. Смотрите
&lt;a href="http://djangocon.us/schedule/"&gt;описания выступлений&lt;/a&gt; и изучайте, это очень интересно.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;А вы уже &lt;a href="https://www.djangoproject.com/weblog/2011/sep/09/security-releases-issued/"&gt;обновили django до 1.3.1&lt;/a&gt; и 1.2.7 соответственно?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Благодаря &lt;a href="http://packages.python.org/django-fab-deploy/"&gt;django-fab-deploy&lt;/a&gt;, обновить фреймворк не составило особого
труда.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Хорошая заметка о &lt;a href="http://lucumr.pocoo.org/2011/7/19/sqlachemy-and-you/"&gt;различиях между Django ORM и SQLAlchemy&lt;/a&gt;. Ещё
&lt;a href="http://habrahabr.ru/blogs/python/128052/"&gt;холивор с похожей темой&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://djangrrl.com/view/contributing-django-documentation-part-1-generating-and-editing-documentation-locally/"&gt;Как помочь улучшить документацию django&lt;/a&gt; (две заметки из блога
девушки с татуировкой пони). &lt;a href="http://djangrrl.com/view/contributing-django-documentation-part-2-submitting-patch/"&gt;Вторая&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/dmpayton/django-admin-honeypot/"&gt;Подменяем /admin/ фальшивой авторизацией&lt;/a&gt; и следим за "хакерами"&lt;/p&gt;
&lt;p&gt;Наконец-то начались какие-то&lt;a href="https://code.djangoproject.com/browser/django/branches/features/py3k/"&gt;попытки портировать Django на python3&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ветка теперь доступна и на &lt;a href="https://github.com/django/django/tree/features/py3k"&gt;гитхабе&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;На новых проектах будем использовать &lt;a href="https://github.com/kmmbvnr/django-jenkins"&gt;django-jenkins&lt;/a&gt; и
&lt;a href="https://github.com/kmmbvnr/django-any"&gt;django-any&lt;/a&gt;. Очень полезные штуки.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Используем ежедневно. не без недостатков, но очень правильные идеи.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JetBrains радуют новыми фичами и апдейтами старых. &lt;a href="http://blog.jetbrains.com/pycharm/2011/09/django-templates-debugging-with-pycharm/"&gt;Пост из блога
pycharm про дебаг шаблонов джанги&lt;/a&gt; в их IDE&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;HTML и Javascript&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://mobilehtml5.org"&gt;Какие фичи html5 поддерживают мобильные браузеры&lt;/a&gt;. Полезная
табличка&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/zgrossbart/jslim"&gt;Утилита для вырезания из js-библиотек неспользуемого вами кода&lt;/a&gt;.
Насколько хорошо она почикает jquery?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;CoffeeScript (и django)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Весёлая презентация &lt;a href="http://bodil.github.com/coffeescript/"&gt;CoffeeScript: JavaScript without the Fail&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Думаете только поклонники руби уважают CoffeeScript? Всовсе нет,
например: &lt;a href="http://pypi.python.org/pypi/django-coffeescript/"&gt;django-coffeescript&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Впрочем, необязательно ставить дополнительный пакет, достаточно нашего
любимого &lt;a href="https://github.com/jezdez/django_compressor"&gt;django-compressor&lt;/a&gt; (django + coffeescript)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Всерьёз задумались о внедрении кофескрипта как замены js на будущих
проектах.&lt;/p&gt;
&lt;h3&gt;Разработка&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://book.git-scm.com/5_finding_issues_-_git_bisect.html"&gt;Команда git bisect&lt;/a&gt; выручает при борьбе с нетривиальными
регрессиями. Очень полезно&lt;/p&gt;
&lt;p&gt;Познавательно про &lt;a href="http://habrahabr.ru/company/skbkontur/blog/128427/"&gt;разработку в СКБ Контур&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img alt="Проектирование моделей (тех самых, которые являются частью
  MVC). На фото - Илья Барышев" src="http://prophet.ru/media/models-600x400.jpg" /&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Mon, 26 Sep 2011 20:21:00 +0400</pubDate><guid>tag:codecoffee.ru,2011-09-26:2011/09/tvity-future-colors-3-nedelia-sentiabria/</guid></item><item><title>Боремся с Clickjacking</title><link>http://codecoffee.ru/2011/08/boremsia-s-clickjacking/</link><description>&lt;h3&gt;Что такое clickjacking&lt;/h3&gt;
&lt;p&gt;Clickjacking - относительно новый и не очень широко известный тип атак
на веб-сайты. Его суть в том, что пользователь, совершая клик на
специально сформированной странице злоумышленника, на самом деле кликает
по ссылке на совершенно другом сайте. Это может быть использовано как
для относительно безобидных накруток голосований (например, &lt;a href="http://shiflett.org/blog/2009/feb/twitter-dont-click-exploit"&gt;ретвитов&lt;/a&gt;
или &lt;a href="http://erickerr.com/like-clickjacking"&gt;лайков&lt;/a&gt;), так и более разрушительных вещей, главное, чтобы для
этого требовался щелчок мыши.&lt;/p&gt;
&lt;h3&gt;Как это работает&lt;/h3&gt;
&lt;p&gt;Атакуемый сайт оборачивается в прозрачный ифрейм. Поверх него
располагают какую-нибудь привлекательную ссылку, на которую захочет
кликнуть «жертва» (при атаке на твитер в 2009 такой приманкой стала
кнопка c текстом «Don't click»). Теперь вместо клика на неё будет
происходить клик в ифрейме (так как он находится поверх кнопки).&lt;/p&gt;
&lt;h3&gt;&lt;a href="/demos/clickjacking/"&gt;Демонстрация кликджекинга&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;(абсолютно безвредно) Замечу, что защита от clickjacking совершенно
иная, чем от CSRF, хотя цели злоумышленников в обоих атаках - заставить
пользователя совершить запрос к сайту под своими правами.&lt;/p&gt;
&lt;h3&gt;Защищаемся через javascript&lt;/h3&gt;
&lt;p&gt;Самый простой способ - сделать редирект с помощью js, если сайт открыт в
ифрейме (&lt;a href="http://prophet.ru/demos/clickjacking/attacker_simple_defence.php"&gt;пример&lt;/a&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;top&lt;/span&gt;&lt;span class="err"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;top&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;К сожалению, это код неуниверсален, существуют несколько способов его
обхода разной степени изощрённости и применимости в браузерах. Подробнее
можно почитать в исследовании &lt;a href="http://crypto.stanford.edu/~dabo/pubs/papers/framebust.pdf"&gt;Busting Frame Busting: a Study of
Clickjacking Vulnerabilities on Popular Sites&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Защищаемся через заголовки&lt;/h3&gt;
&lt;p&gt;В дополнение к предыдущему методу, разработчики браузеров ввели новый
заголовок ответа сервера &lt;a href="https://developer.mozilla.org/en/The_X-FRAME-OPTIONS_response_header"&gt;X-Frame-Options&lt;/a&gt;. Он позволяет не отображать
сайт, если он загружается c другого домена через ифрейм. Пример настроек
для Apache и nginx:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Header&lt;/span&gt; &lt;span class="n"&gt;always&lt;/span&gt; &lt;span class="n"&gt;append&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Frame&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Options&lt;/span&gt; &lt;span class="n"&gt;SAMEORIGIN&lt;/span&gt;

&lt;span class="n"&gt;add_header&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Frame&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Options&lt;/span&gt; &lt;span class="n"&gt;SAMEORIGIN&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Работает в IE 8.0+, FF 3.6.9+, Opera 10.50+, Safari 4.0+ и Chrome 4.1+,
на момент написания поста по рунету это более 70% пользователей.&lt;/p&gt;
&lt;p&gt;В новой версии Django 1.4 для добавления этого заголовка есть настраиваемый
&lt;a href="https://docs.djangoproject.com/en/dev/ref/clickjacking/"&gt;XFrameOptionsMiddleware&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.owasp.org/index.php/Clickjacking"&gt;Подробно про Clickjacking&lt;/a&gt; на сайте Open Web Application Security Project.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Sun, 21 Aug 2011 19:15:00 +0400</pubDate><guid>tag:codecoffee.ru,2011-08-21:2011/08/boremsia-s-clickjacking/</guid><category>security</category></item><item><title>HttpOnly куки и с чем их едят</title><link>http://codecoffee.ru/2010/12/httponly-kuki-i-s-chem-ikh-ediat/</link><description>&lt;p&gt;HttpOnly cookie — это такие куки, которые невозможно прочитать с помощью
javascript, но доступные серверным скриптам, как и любые другие.
Несмотря на то, что это совсем не новая технология (HttpOnly cookie
появились 8 лет назад в IE6 SP1), далеко не все знают, почему их
обязательно стоит использовать.&lt;/p&gt;
&lt;h3&gt;Зачем это нужно&lt;/h3&gt;
&lt;p&gt;Куки, недоступные из джаваскипта, помогут защитить от XSS-атак, как
второй рубеж обороны от злоумышленников. Прокравшийся на страницу
вредоносный код не сможет утащить пользовательские куки с помощью
&lt;code&gt;document.cookie&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Где это работает&lt;/h3&gt;
&lt;p&gt;Основная мысль: &lt;em&gt;это работает во всех популярных и современных
браузерах&lt;/em&gt; (IE6+, Firefox 2.0+, Chrome 1.0+, Opera 9.5+, Safari 4.0+)
Подробнее можно ознакомиться на сайте &lt;a href="http://www.browserscope.org/"&gt;browserscope&lt;/a&gt; (раздел
Security).&lt;/p&gt;
&lt;p&gt;HttpOnly cookie &lt;a href="http://php.net/manual/en/function.setcookie.php"&gt;легко установить в php&lt;/a&gt;, &lt;a href="http://docs.djangoproject.com/en/dev/ref/request-response/#django.http.HttpResponse.set_cookie"&gt;django&lt;/a&gt;. Чтобы
установить куки собственноручно через передачу заголовка ответа,
достаточко добавить параметр &lt;code&gt;; HttpOnly&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Set&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Cookie&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[;&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;[;&lt;/span&gt; &lt;span class="n"&gt;expires&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;][;&lt;/span&gt; &lt;span class="n"&gt;domain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;[;&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;][;&lt;/span&gt; &lt;span class="n"&gt;secure&lt;/span&gt;&lt;span class="p"&gt;][;&lt;/span&gt; &lt;span class="n"&gt;HttpOnly&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://prophet.ru/demos/cookie/"&gt;Демо&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.owasp.org/index.php/HttpOnly"&gt;Подробно про HttpOnly cookie&lt;/a&gt; на сайте Open Web Application Security Project&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Mon, 20 Dec 2010 09:45:00 +0300</pubDate><guid>tag:codecoffee.ru,2010-12-20:2010/12/httponly-kuki-i-s-chem-ikh-ediat/</guid><category>security</category></item><item><title>VPC-EC3S1R и Убунта 10.10</title><link>http://codecoffee.ru/2010/12/vpc-ec3s1r-i-ubunta-1010/</link><description>&lt;p&gt;Взамен &lt;a href="http://www.trustedreviews.com/laptops/review/2005/09/07/Fujitsu-Siemens-AMILO-M3438G-Gaming-Notebook/p1"&gt;старого ноута&lt;/a&gt; приобрёл новый &lt;a href="http://market.yandex.ru/model.xml?modelid=6496796"&gt;VAIO серии E&lt;/a&gt;. Машинка отличная,
а пока пара советов для убунтоводов, обзаведшихся ноутом сони, почерпнутых в &lt;a href="http://outhereinthefield.wordpress.com/2010/11/03/ubuntu-10-4-lucid-lynx-on-vaio-vpcea36fg/"&gt;одном из
блогов&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Sony VAIO VPC-EC3S1R" src="http://prophet.ru/media/vaio.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;Под свежеустановленным
Мавериком (10.10) почти всё завелось "из коробки": видео, аудио,
вебкамера, но не обошлось и без досадных недоразумений в виде нерабочего
тачпада и кнопок управления яркости.&lt;/p&gt;
&lt;h3&gt;Убунта и яркость экрана&lt;/h3&gt;
&lt;p&gt;Сидеть за дисплеем со 100-процентной яркостью совершенно невозможно,
поэтому, пока не отказали глаза срочно понижаем её в меню "Система →
Параметры → Управления питанием". Данный трюк не проходит, если питание
от сети отсутствует, поэтому надо оживить кнопки Fn+F5 и Fn+F6,
отвечающие за яркость.&lt;/p&gt;
&lt;p&gt;1) Правим файл &lt;code&gt;/etc/acpi/events/sony-brightness-down&lt;/code&gt;, который будет выполняться при
нажатии Fn+F5.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# /etc/acpi/events/sony-brightness-down&lt;/span&gt;
&lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sony&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;hotkey&lt;/span&gt; &lt;span class="n"&gt;SNC&lt;/span&gt; &lt;span class="mo"&gt;00000001&lt;/span&gt; &lt;span class="mo"&gt;00000010&lt;/span&gt;
&lt;span class="n"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;acpi&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;brightdown&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Код клавиши может отличаться для других моделей ноутбуков Сони (можно
определить с помощью команды &lt;code&gt;acpi_listen&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;2) Правим скрипт &lt;code&gt;/etc/acpi/brightdown.sh&lt;/code&gt;, который понижает яркость&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nv"&gt;curr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;cat /sys/class/backlight/acpi_video0/actual_brightness&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$curr&lt;/span&gt; -gt 0 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="nv"&gt;curr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt;curr-1&lt;span class="k"&gt;))&lt;/span&gt;;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$curr&lt;/span&gt;  &amp;gt; /sys/class/backlight/acpi_video0/brightness;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Главное, не забыть про права на исполнение.&lt;/p&gt;
&lt;p&gt;3) Аналогично редактируем файл &lt;code&gt;/etc/acpi/events/sony-brightness-up&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# /etc/acpi/events/sony-brightness-up&lt;/span&gt;
&lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;sony&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;hotkey&lt;/span&gt; &lt;span class="n"&gt;SNC&lt;/span&gt; &lt;span class="mo"&gt;00000001&lt;/span&gt; &lt;span class="mo"&gt;00000011&lt;/span&gt;
&lt;span class="n"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;acpi&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;brightup&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;4) А вот скрипт повышения яркости для файла &lt;code&gt;/etc/acpi/brightup.sh&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nv"&gt;curr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;cat /sys/class/backlight/acpi_video0/actual_brightness&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$curr&lt;/span&gt; -lt 8 &lt;span class="o"&gt;]&lt;/span&gt;; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;span class="nv"&gt;curr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt;curr+1&lt;span class="k"&gt;))&lt;/span&gt;;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$curr&lt;/span&gt;  &amp;gt; /sys/class/backlight/acpi_video0/brightness;
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Убунта и тачпад&lt;/h3&gt;
&lt;p&gt;Тачпад особенно не нужен на 17-дюймовом ноуте, который заменяет десктоп,
но для порядка надо оживить и его. Нужно отредактировать
&lt;code&gt;/etc/default/grub&lt;/code&gt;, добавив следующую строчку&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;GRUB_CMDLINE_LINUX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;”&lt;/span&gt;&lt;span class="n"&gt;i8042&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;noloop&lt;/span&gt; &lt;span class="n"&gt;i8042&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nomux&lt;/span&gt; &lt;span class="n"&gt;i8042&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reset&lt;/span&gt; &lt;span class="n"&gt;i8042&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nopnp&lt;/span&gt; &lt;span class="n"&gt;splash&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;После этого надо пересоздать grub.conf&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;grub&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;После этого перезагружаемся и тачпад работает. Удачной работы.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Wed, 15 Dec 2010 23:05:00 +0300</pubDate><guid>tag:codecoffee.ru,2010-12-15:2010/12/vpc-ec3s1r-i-ubunta-1010/</guid><category>ubuntu</category></item><item><title>День рождения API Яндекс.Карт</title><link>http://codecoffee.ru/2010/11/den-rozhdeniia-api-iandekskart/</link><description>&lt;p&gt;В пятницу команда Яндекс.Карт вместе с активистами &lt;a href="http://clubs.ya.ru/mapsapi/"&gt;клуба&lt;/a&gt; отмечали
двухлетие API и предоставили возможность рассказать про наш скромный
проект «&lt;a href="http://bankomator.ru"&gt;Банкоматор&lt;/a&gt;». Послушали &lt;a href="http://video.yandex.ru/users/vaddoo/view/4"&gt;любопытное выступление Кащея&lt;/a&gt; про
то, как работает продвинутая кластеризация, как сильно ускорить вывод
объектов на карте и без хотспотов. А также &lt;a href="http://video.yandex.ru/users/vaddoo/view/3#hq"&gt;немного статистики&lt;/a&gt; о том,
как растёт и становится лучше API карт. Очень здорово, что поддержка в
клубе такая оперативная и полная. А вот &lt;a href="http://ymapsapi.ya.ru/replies.xml?item_no=104"&gt;фото и видео со встречи&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Народу было немного, познакомились с командой, кого не видели на
&lt;a href="http://habrahabr.ru/blogs/yandex/79266/"&gt;прошлогоднем семинаре&lt;/a&gt;. Встреча закончилась вкусным тортом и
небольшой экскурсию по офису. Спасибо!&lt;/p&gt;
&lt;p&gt;&lt;img alt="Фото на память" src="http://prophet.ru/media/0_3847d_675c29f1_orig.jpg" /&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Mon, 29 Nov 2010 14:01:00 +0300</pubDate><guid>tag:codecoffee.ru,2010-11-29:2010/11/den-rozhdeniia-api-iandekskart/</guid><category>события</category><category>Яндекс</category></item><item><title>Firefox 2 и HTML5</title><link>http://codecoffee.ru/2010/11/firefox-2-i-html5/</link><description>&lt;p&gt;Сейчас для многих HTML5 это такой всеобщий «тренд» веб-разработки и
просто «buzzword». Все радуются за новые и полезные семантические
теги разметки &lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;section&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;article&amp;gt;&lt;/code&gt; и даже
&lt;code&gt;&amp;lt;aside&amp;gt;&lt;/code&gt;. Но не все ещё знают о том, какие проблемы с обратной
совместимостью устаревших браузеров по-прежнему существуют.&lt;/p&gt;
&lt;h3&gt;Ослик&lt;/h3&gt;
&lt;p&gt;То, что Internet Explorer вплоть до 9 версии не умеет применять стили к
неизвестным тегам без специальных ухищрений, давно известно. Для обхода
этого недоразумения существует популярное решение &lt;a href="http://code.google.com/p/html5shiv/"&gt;html5shiv&lt;/a&gt;.
Хитрость в том, чтобы динамически создать новый элемент, тогда explorer
волшебным образом застайлит все последующие его вхождения.&lt;/p&gt;
&lt;h3&gt;Firefox 2&lt;/h3&gt;
&lt;p&gt;Куда менее известно о том, что Firefox 2 тоже &lt;a href="https://bugzilla.mozilla.org/show_bug.cgi?id=311366"&gt;не дружит с незнакомыми
ему тегами&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Firefox 2 (а также любой другой браузер на движке Gecko версии младше
1.9b5) имеет баг в разборе HTML: все неизвестные теги принудительно
закрываются, как только парсер встречает блочный элемент (p, h1, div и
т.п.).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;На данный момент доля второй ветки FF &lt;a href="http://goo.gl/Gxel9"&gt;в рунете&lt;/a&gt; и &lt;a href="http://goo.gl/9DwO4"&gt;в мире&lt;/a&gt;
составляет меньше процента (0.4%). В то время как доля IE6 &lt;a href="http://goo.gl/NIMgf"&gt;в 10 раз
больше&lt;/a&gt; - около 5%. Поэтому, неудивительно, что проблема кажется
надуманной. Тем не менее, если вы разрабатываете популярный ресурс с
многотысячной посещаемостью, число таких людей будет исчисляться сотнями
в неделю. Каждый из них вместо свёрстанного сайта увидит нечто
совершенно непотребное и скорее всего сразу уйдёт.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox 2: Вот как всё разваливается" src="http://prophet.ru/media/firefox_2.0.0.20-300x225.png" /&gt;
&lt;img alt="Firefox 3: Так должно выглядеть на самом деле" src="http://prophet.ru/media/firefox_3.0-300x225.png" /&gt;&lt;/p&gt;
&lt;p&gt;Есть несколько способов исправить проблему, со своими плюсами и
минусами, как водится.&lt;/p&gt;
&lt;h4&gt;Деградация&lt;/h4&gt;
&lt;p&gt;Заменяем все новые теги на блочные &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; для Firefox 2. Придётся
применить пресловутый browser sniffing, а значит есть риск ошибиться при
разборе User Agent. Кроме того, css и весь javascript не должен быть
привязан к названиям тегов (вообще, это хороший стиль). Ну и кэшировать
такие страницы придётся отдельно.&lt;/p&gt;
&lt;h4&gt;Переходим на XHTML&lt;/h4&gt;
&lt;p&gt;Отдаём фаерфоксу заголовок &lt;code&gt;application/xhtml+xml&lt;/code&gt; и баг пропадает.
Кроме того, что в данном методе присутствует browser sniffing, xhtml
strict mode чреват тем, что из-за ошибочной вёрстки посетитель не увидит
вообще ничего, кроме parse error (документ должен быть well-formed).
&lt;a href="http://remysharp.com/2009/04/14/html5-and-firefox2/"&gt;Пример в блоге Remy Sharp&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;Используем JS&lt;/h4&gt;
&lt;p&gt;С помощью javasctipt можно обойти DOM-дерево и убрать лишние закрывающие
теги, которые проставил Firefox. Готового решения нет, поскольку
определить то, что тег закрыт преждевременно по ошибке нетривиально.
&lt;a href="http://blog.whatwg.org/supporting-new-elements-in-firefox-2"&gt;Пример в блоге WHATWG&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Итого&lt;/h3&gt;
&lt;p&gt;Полезно заранее определить границы кроссбраузерности и определить
&lt;a href="http://developer.yahoo.com/yui/articles/gbs/"&gt;степень поддержки тех или иных версий браузеров&lt;/a&gt;. Если вы планируете
использовать новые теги в вёрстке, незначительная часть ваших
пользователей увидят ваш сайт совсем не так, как вы этого могли ожидать,
если об этом не позаботиться. Внедряя новые «примочки», полезно не
забывать об обратной совместимости, ведь не все могут легко установить
себе современный браузер.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Sun, 21 Nov 2010 19:43:00 +0300</pubDate><guid>tag:codecoffee.ru,2010-11-21:2010/11/firefox-2-i-html5/</guid><category>explorer</category><category>firefox</category><category>html5</category></item><item><title>Google Developer Day 2010</title><link>http://codecoffee.ru/2010/11/google-developer-day-2010/</link><description>&lt;p&gt;&lt;img alt="GDD 2010" src="http://www.futurecolors.ru/blog/wp-content/uploads/2010/11/gddru.png" /&gt;Посетил вместе с &lt;a href="http://piumosso.ru"&gt;@piumosso&lt;/a&gt; очень хорошо подготовленное
и позитивное мероприятие под названием GDD 2010. Спасибо русскому Гуглу,
за то что с каждым годом делают конференцию всё лучше. В этот раз
&lt;a href="http://www.google.com/events/developerday/2010/moscow/agenda.html"&gt;основными темами&lt;/a&gt; стали: Andriod, Chrome с HTML5, GAE, бизнес и
немного social. Конференция нам понравилась, о чём мы не преминули
написать свой отчёт.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.futurecolors.ru/blog/2010/11/google-developer-day-2010/"&gt;Полная версия отчёта о GDD 2010 в блоге Future Colors&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="&amp;quot;Излюбленное место для фотографий&amp;quot;" src="http://prophet.ru/media/google_logo-300x225.jpg" /&gt;
&lt;img alt="Символика мероприятия необычная, чего стоит НЛО и 4 дырки в голове" src="http://prophet.ru/media/gdd_banner-300x225.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;А вот немного ссылочек на чужие отчёты:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://victimofbabylon.com/o-gddru-2010-scheduled-november-20-2010-at-12"&gt;#gddru 2010 от @memphys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://habrahabr.ru/blogs/conference/108137/"&gt;Пост Андрея Реброва на Хабре&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://gtug.do.am/news/google_developer_day_2010/2010-11-14-70"&gt;Отчёт смоленского GTUG&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://zborovskiy.posterous.com/gddru10"&gt;Фотоотчёт @glamchicken&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;На закуску &lt;a href="http://www.futurecolors.ru/blog/2009/11/google-developer-day-2009/"&gt;мои впечатления от Google Developer Day 2009&lt;/a&gt;.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Sun, 14 Nov 2010 20:32:00 +0300</pubDate><guid>tag:codecoffee.ru,2010-11-14:2010/11/google-developer-day-2010/</guid></item><item><title>Как добавить сертификат SSL в Chrome под Ubuntu</title><link>http://codecoffee.ru/2010/11/kak-dobavit-sertifikat-ssl-v-chrome-pod-ubuntu/</link><description>&lt;p&gt;Хром очень печётся о безопасности пользователя, поэтому иногда можно
увидеть вместо сайта вот такое предостережение:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Предупреждение Chrome о небезопасности сертификата" src="http://prophet.ru/media/chrome_security_warning1-300x168.png" /&gt;&lt;/p&gt;
&lt;p&gt;Как правило, владельцы ресурса используют самоподписанный сертификат, что
само по себе угрозой не является, но вызывает раздражение, если видишь
эту кровавую страницу каждый раз при посещении, например,
интранет-сайта. В фаерфоксе подобная проблема решается прямо в браузере
несколькими кликами, нужно всего лишь добавить сертификат к доверенным.
Любителям хрома под линукс придётся &lt;a href="http://code.google.com/p/chromium/wiki/LinuxCertManagement"&gt;использовать командную строку&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Решение&lt;/h3&gt;
&lt;p&gt;Некто Алекс придумал &lt;a href="http://blog.avirtualhome.com/2010/02/02/adding-ssl-certificates-to-google-chrome-linux-ubuntu/"&gt;способ немного автоматизировать процесс&lt;/a&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Ставим себе libnss3-tools:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;libnss3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Создаём исполняемый файл import-cert.sh&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;# usage: import-cert.sh remote.host.name [port]&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="nv"&gt;REMHOST&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;
&lt;span class="nv"&gt;REMPORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;2&lt;/span&gt;&lt;span class="k"&gt;:-&lt;/span&gt;&lt;span class="nv"&gt;443&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;
&lt;span class="nb"&gt;exec &lt;/span&gt;6&amp;gt;&amp;amp;1
&lt;span class="nb"&gt;exec&lt;/span&gt; &amp;gt; &lt;span class="nv"&gt;$REMHOST&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; | openssl s_client -connect &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;REMHOST&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;:&lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;REMPORT&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; 2&amp;gt;&amp;amp;1 |sed -ne &lt;span class="s1"&gt;&amp;#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&amp;#39;&lt;/span&gt;
certutil -d sql:&lt;span class="nv"&gt;$HOME&lt;/span&gt;/.pki/nssdb -A -t TC -n &lt;span class="s2"&gt;&amp;quot;$REMHOST&amp;quot;&lt;/span&gt; -i &lt;span class="nv"&gt;$REMHOST&lt;/span&gt;
&lt;span class="nb"&gt;exec &lt;/span&gt;1&amp;gt;&amp;amp;6 6&amp;gt;&amp;amp;-
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Запускаем скрипт:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;import&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;cert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="n"&gt;example&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt; &lt;span class="mi"&gt;443&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;(где 443 - необязательный параметр, порт SSL) Вот и всё, сертификат
добавился в &lt;a href="https://wiki.mozilla.org/NSS_Shared_DB_And_LINUX"&gt;NSS Shared DB&lt;/a&gt;, mission accomplished.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;На всякий случай&lt;/h3&gt;
&lt;p&gt;Если что-то пошло не так, всегда можно через консоль посмотреть, какие
сертификаты добавлены:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;certutil&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;L&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;sql&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;HOME&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pki&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nssdb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;или удалить негодный сертификат:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;certutil&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;D&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="err"&gt;имя&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="err"&gt;сертификата&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;sql&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;HOME&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pki&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nssdb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Итого&lt;/h3&gt;
&lt;p&gt;Пока приходится использовать вот такие «костыли», но, скорее всего, в
будущем появится нормальный менеджер сертификатов под Linux и данный
скрипт будет более не нужен, на что я очень надеюсь.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Илья Барышев</dc:creator><pubDate>Fri, 12 Nov 2010 23:13:00 +0300</pubDate><guid>tag:codecoffee.ru,2010-11-12:2010/11/kak-dobavit-sertifikat-ssl-v-chrome-pod-ubuntu/</guid><category>chrome</category><category>ssl</category><category>ubuntu</category></item></channel></rss>